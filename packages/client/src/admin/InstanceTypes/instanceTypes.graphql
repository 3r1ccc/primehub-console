fragment InstanceTypeInfo on InstanceType {
  id
  name
  displayName
  cpuLimit
  memoryLimit
  gpuLimit
}

query InstanceTypesQuery(
  $page: Int
  $where: InstanceTypeWhereInput
) {
  instanceTypesConnection(
    page: $page
    where: $where
  ) {
    edges {
      cursor
      node {
        id
        ...InstanceTypeInfo
      }
    }
    pageInfo {
      currentPage
      totalPage
    }
  }
}

query InstanceTypeInfoQuery($where: InstanceTypeWhereUniqueInput!) {
  instanceType(where: $where) {
    id
    description
    cpuRequest
    memoryRequest
    global
    groups {
      id
      name
      displayName
      quotaCpu
      quotaGpu
    }
    tolerations {
      key
      value
      operator
      effect
    }
    nodeSelector
    ...InstanceTypeInfo
  }
}
